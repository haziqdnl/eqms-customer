<div class="bg-default">
    <app-loader></app-loader>
    <div class="wrap-center">
        <form id="registerForm" class="bg-light shadow-lg rounded-3 px-lg-5 p-4" [formGroup]="registerForm" (ngSubmit)="submit()">
            <img id="logo" src="assets/img/arx_logo.jpeg" alt="Ar-Rahnu" width="150" />
            <h5 class="mt-2 text-center fw-bold">Create Account</h5>
            <div class="form-group mt-2">
                <div *ngIf="(formControl['fullname'].touched || formSubmitted) && formControl['fullname'].invalid" class="input-err">
                    <div *ngIf="formControl['fullname'].errors?.['required']">required</div>
                    <div *ngIf="formControl['fullname'].errors?.['pattern']">contain invalid characters</div>
                    <div *ngIf="formControl['fullname'].errors?.['minlength'] || formControl['fullname'].errors?.['maxlength']">must be 3~60 characters</div>
                </div>
                <label class="form-label">Full name</label><br>
                <input formControlName="fullname" name="fullname" class="rounded" type="text" placeholder="Full name" minlength="3" maxlength="60" oninput="this.value = this.value.toUpperCase()"/>
            </div>
            <div class="row">
                <div class="col-12 col-lg mt-2">
                    <div *ngIf="(formControl['gender'].touched || formSubmitted) && formControl['gender'].invalid" class="input-err">
                        <div *ngIf="formControl['gender'].errors?.['required']">required</div>
                    </div>
                    <label for="gender" class="form-label">Gender</label>
                    <select formControlName="gender" name="gender" id="gender" class="rounded" (change)="changeGender($event)">
                        <option value="">Select gender</option>
                        <option *ngFor="let item of genderList" [value]="item.id">{{ item.desc }}</option>
                    </select>
                </div>
                <div class="col-12 col-lg mt-2">
                    <div *ngIf="(formControl['identificationNo'].touched || formSubmitted) && formControl['identificationNo'].invalid" class="input-err">
                        <div *ngIf="formControl['identificationNo'].errors?.['required']">required</div>
                        <div *ngIf="formControl['identificationNo'].errors?.['minlength'] || formControl['identificationNo'].errors?.['maxlength']">invalid number</div>
                    </div>
                    <label class="form-label">NRIC Number</label>
                    <input formControlName="identificationNo" name="identificationNo" class="rounded" type="text" placeholder="NRIC number" maxlength="12" (keypress)="g.numberOnly($event)" />
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-lg mt-3">
                    <div *ngIf="(formControl['email'].touched || formSubmitted) && formControl['email'].invalid" class="input-err">
                        <div *ngIf="formControl['email'].errors?.['required']">required</div>
                        <div *ngIf="formControl['email'].errors?.['pattern'] || formControl['email'].errors?.['maxlength']">invalid email</div>
                    </div>
                    <label class="form-label">Email Address</label>
                    <input formControlName="email" name="email" class="rounded" type="text" placeholder="Email address" maxlength="30" oninput="this.value = this.value.toUpperCase()"/>
                </div>
                <div class="col-12 col-lg mt-3">
                    <div *ngIf="(formControl['mobileNo'].touched || formSubmitted) && formControl['mobileNo'].invalid" class="input-err">
                        <div *ngIf="formControl['mobileNo'].errors?.['required']">required</div>
                        <div *ngIf="formControl['mobileNo'].errors?.['pattern']">invalid number</div>
                        <div *ngIf="formControl['mobileNo'].errors?.['minlength'] || formControl['mobileNo'].errors?.['maxlength']">invalid number</div>
                    </div>
                    <label class="form-label">Mobile No.</label>
                    <div id="mobileNoInput">
                        <label>+60</label>
                        <input formControlName="mobileNo" name="mobileNo" class="rounded" type="text" placeholder=" Mobile number" maxlength="10" (keypress)="g.numberOnly($event)" />
                    </div>
                </div>
            </div>
            <div class="mt-3">
                <div *ngIf="(formControl['address1'].touched || formSubmitted) && formControl['address1'].invalid" class="input-err">
                    <div *ngIf="formControl['address1'].errors?.['required']">required</div>
                    <div *ngIf="formControl['address1'].errors?.['pattern']">contain invalid characters</div>
                    <div *ngIf="formControl['address1'].errors?.['maxlength']">exceeded maximum length</div>
                </div>
                <label class="form-label">Address</label><br>
                <input formControlName="address1" name="address1" class="rounded" type="text" placeholder="Address line 1" minlength="3" maxlength="60" oninput="this.value = this.value.toUpperCase()"/>
            </div>
            <div class="mt-2">
                <div *ngIf="(formControl['address2'].touched || formSubmitted) && formControl['address2'].invalid" class="input-err">
                    <div *ngIf="formControl['address2'].errors?.['pattern']">invalid address</div>
                    <div *ngIf="formControl['address2'].errors?.['maxlength']">exceeded maximum length</div>
                </div>
                <input formControlName="address2" name="address2" class="rounded" type="text" placeholder="Address line 2 - optional" minlength="3" maxlength="60" oninput="this.value = this.value.toUpperCase()"/>
            </div>
            <div class="row">
                <div class="col-12 col-lg mt-3">
                    <div *ngIf="(formControl['postcode'].touched || formSubmitted) && formControl['postcode'].invalid" class="input-err">
                        <div *ngIf="formControl['postcode'].errors?.['required']">required</div>
                        <div *ngIf="formControl['postcode'].errors?.['pattern'] || formControl['postcode'].errors?.['maxlength']">invalid postcode</div>
                    </div>
                    <label class="form-label">Postcode</label>
                    <input formControlName="postcode" name="postcode" class="rounded" type="text" placeholder="Postcode" minlength="5" maxlength="5" (keypress)="g.numberOnly($event)" />
                </div>
                <div class="col-12 col-lg mt-3">
                    <div *ngIf="(formControl['state'].touched || formSubmitted) && formControl['state'].invalid" class="input-err">
                        <div *ngIf="formControl['state'].errors?.['required']">required</div>
                    </div>
                    <label for="state" class="form-label">State</label>
                    <select formControlName="state" name="state" id="state" class="rounded" (change)="changeState($event)">
                        <option value="">Select state</option>
                        <option *ngFor="let item of stateList" [value]="item.StateID">{{ item.StateSDesc }}</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-lg mt-3">
                    <div *ngIf="(formControl['password'].touched || formSubmitted) && formControl['password'].invalid" class="input-err">
                        <div *ngIf="formControl['password'].errors?.['required']">required</div>
                        <div *ngIf="formControl['password'].errors?.['pattern']">requirement not met</div>
                    </div>
                    <label class="form-label">Password</label>
                    <input formControlName="password" name="password" class="rounded" type="password" placeholder="Your password" minlength="8" maxlength="30" />
                </div>
                <div class="col-12 col-lg mt-3">
                    <div *ngIf="(formControl['confirmPassword'].touched || formSubmitted) && formControl['confirmPassword'].invalid" class="input-err">
                        <div *ngIf="formControl['confirmPassword'].errors?.['required']">required</div>
                        <div *ngIf="formControl['confirmPassword'].errors?.['passwordMismatch']">doesn't match</div>
                    </div>
                    <label class="form-label">Confirm Password</label>
                    <input formControlName="confirmPassword" name="confirmPassword" class="rounded" type="password" placeholder="Confirm password" maxlength="30" />
                </div>
                <div class="font-size-10 text-secondary text-center mt-2">Note: Password must at least 8 characters, 1 uppercase, 1 lowercase and 1 number</div>
            </div>
            <div class="mt-3 btn-group w-100">
                <button type="button" class="btn btn-secondary w-50" (click)="back()">Back</button>
                <button type="submit" class="btn btn-primary w-50">Create Account</button>
            </div>
        </form>
    </div>
</div>